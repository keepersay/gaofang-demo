import{_ as x,r as _,n as C,o as k,e as c,b as U,g as j,h as o,d as l,K as y,w as a,k as d}from"./index-B2GhVju_.js";const w={class:"bot-protection-tab"},E={class:"tab-content"},S={class:"protection-section"},D={class:"section-header"},R={class:"protection-section"},T={class:"section-header"},W={class:"protection-section"},q={class:"section-header"},B={class:"check-item"},N={class:"check-item"},I={class:"check-item"},L={class:"check-item"},M={class:"check-item"},z={class:"check-item"},H={class:"check-item"},J={class:"protection-section"},K={class:"section-header"},A={class:"form-item"},F={class:"form-item"},G={class:"protection-section"},Q={class:"section-header"},X={class:"form-item"},Y={class:"form-item"},Z={__name:"BotProtectionTab",props:{protectionId:{type:[Number,String],required:!0},protectionData:{type:Object,required:!0}},emits:["update"],setup(g,{emit:P}){const m=g,h=P,t=_({searchEngineWhitelist:{enabled:!0,list:""},staticResourceSuffix:{enabled:!0,list:""},dynamicProtection:{enabled:!0,dynamicEnvVerify:!0,dynamicTokenCheck:!0,urlParamObfuscate:!0,refererObfuscate:!0,bodyParamObfuscate:!0,disableDevTools:!1,preventDebugging:!1},htmlObfuscation:{enabled:!0,mode:"all",obfuscatePaths:"/",exceptPaths:""},jsObfuscation:{enabled:!0,obfuscatePaths:"/",exceptPaths:""}}),f=()=>{if(m.protectionData&&m.protectionData.securityConfig&&m.protectionData.securityConfig.botProtection){const i=m.protectionData.securityConfig.botProtection;i.searchEngineWhitelist&&Object.assign(t.searchEngineWhitelist,i.searchEngineWhitelist),i.staticResourceSuffix&&Object.assign(t.staticResourceSuffix,i.staticResourceSuffix),i.dynamicProtection&&(Object.assign(t.dynamicProtection,i.dynamicProtection),t.dynamicProtection.dynamicEnvVerify=!0,t.dynamicProtection.dynamicTokenCheck=!0),i.htmlObfuscation&&Object.assign(t.htmlObfuscation,i.htmlObfuscation),i.jsObfuscation&&Object.assign(t.jsObfuscation,i.jsObfuscation)}},n=()=>{O()},O=()=>{h("update","botProtection",{searchEngineWhitelist:{...t.searchEngineWhitelist},staticResourceSuffix:{...t.staticResourceSuffix},dynamicProtection:{...t.dynamicProtection},htmlObfuscation:{...t.htmlObfuscation},jsObfuscation:{...t.jsObfuscation}})};return C(()=>m.protectionData,()=>{f()},{deep:!0}),k(()=>{f()}),(i,e)=>{const b=c("el-switch"),r=c("el-input"),u=c("el-checkbox"),p=c("el-tooltip"),V=c("el-radio"),v=c("el-radio-group");return j(),U("div",w,[o("div",E,[e[40]||(e[40]=o("div",{class:"tip-box"},[o("i",{class:"el-icon-info"}),o("span",null,"以下防护技术组合使用，可对攻击者进行有效拦截")],-1)),o("div",S,[o("div",D,[e[19]||(e[19]=o("span",{class:"section-title"},"搜索引擎爬虫白名单",-1)),l(b,{modelValue:t.searchEngineWhitelist.enabled,"onUpdate:modelValue":e[0]||(e[0]=s=>t.searchEngineWhitelist.enabled=s)},null,8,["modelValue"])]),l(r,{modelValue:t.searchEngineWhitelist.list,"onUpdate:modelValue":e[1]||(e[1]=s=>t.searchEngineWhitelist.list=s),type:"textarea",rows:4,placeholder:"请输入爬虫名称，多个之间用回车分隔",disabled:!t.searchEngineWhitelist.enabled,onChange:n},null,8,["modelValue","disabled"])]),o("div",R,[o("div",T,[e[20]||(e[20]=o("span",{class:"section-title"},"静态资源后缀加白",-1)),l(b,{modelValue:t.staticResourceSuffix.enabled,"onUpdate:modelValue":e[2]||(e[2]=s=>t.staticResourceSuffix.enabled=s)},null,8,["modelValue"])]),l(r,{modelValue:t.staticResourceSuffix.list,"onUpdate:modelValue":e[3]||(e[3]=s=>t.staticResourceSuffix.list=s),type:"textarea",rows:4,placeholder:"请输入需要加白的静态资源后缀，多个之间用回车分隔",disabled:!t.staticResourceSuffix.enabled,onChange:n},null,8,["modelValue","disabled"])]),o("div",W,[o("div",q,[e[21]||(e[21]=o("span",{class:"section-title"},"动态防护(web)",-1)),l(b,{modelValue:t.dynamicProtection.enabled,"onUpdate:modelValue":e[4]||(e[4]=s=>t.dynamicProtection.enabled=s)},null,8,["modelValue"])]),o("div",{class:y(["check-items",{disabled:!t.dynamicProtection.enabled}])},[o("div",B,[l(u,{modelValue:t.dynamicProtection.dynamicEnvVerify,"onUpdate:modelValue":e[5]||(e[5]=s=>t.dynamicProtection.dynamicEnvVerify=s),disabled:""},{default:a(()=>e[22]||(e[22]=[d("动态环境验证")])),_:1,__:[22]},8,["modelValue"]),l(p,{content:"该选项为必选项",placement:"top"},{default:a(()=>e[23]||(e[23]=[o("i",{class:"el-icon-question"},null,-1)])),_:1,__:[23]})]),o("div",N,[l(u,{modelValue:t.dynamicProtection.dynamicTokenCheck,"onUpdate:modelValue":e[6]||(e[6]=s=>t.dynamicProtection.dynamicTokenCheck=s),disabled:""},{default:a(()=>e[24]||(e[24]=[d("动态令牌校验")])),_:1,__:[24]},8,["modelValue"]),l(p,{content:"该选项为必选项",placement:"top"},{default:a(()=>e[25]||(e[25]=[o("i",{class:"el-icon-question"},null,-1)])),_:1,__:[25]})]),o("div",I,[l(u,{modelValue:t.dynamicProtection.urlParamObfuscate,"onUpdate:modelValue":e[7]||(e[7]=s=>t.dynamicProtection.urlParamObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:n},{default:a(()=>e[26]||(e[26]=[d("URL参数混淆")])),_:1,__:[26]},8,["modelValue","disabled"])]),o("div",L,[l(u,{modelValue:t.dynamicProtection.refererObfuscate,"onUpdate:modelValue":e[8]||(e[8]=s=>t.dynamicProtection.refererObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:n},{default:a(()=>e[27]||(e[27]=[d("referer参数混淆")])),_:1,__:[27]},8,["modelValue","disabled"])]),o("div",M,[l(u,{modelValue:t.dynamicProtection.bodyParamObfuscate,"onUpdate:modelValue":e[9]||(e[9]=s=>t.dynamicProtection.bodyParamObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:n},{default:a(()=>e[28]||(e[28]=[d("请求体参数混淆")])),_:1,__:[28]},8,["modelValue","disabled"])]),o("div",z,[l(u,{modelValue:t.dynamicProtection.disableDevTools,"onUpdate:modelValue":e[10]||(e[10]=s=>t.dynamicProtection.disableDevTools=s),disabled:!t.dynamicProtection.enabled,onChange:n},{default:a(()=>e[29]||(e[29]=[d("禁用开发者工具")])),_:1,__:[29]},8,["modelValue","disabled"])]),o("div",H,[l(u,{modelValue:t.dynamicProtection.preventDebugging,"onUpdate:modelValue":e[11]||(e[11]=s=>t.dynamicProtection.preventDebugging=s),disabled:!t.dynamicProtection.enabled,onChange:n},{default:a(()=>e[30]||(e[30]=[d("页面防调试")])),_:1,__:[30]},8,["modelValue","disabled"])])],2)]),o("div",J,[o("div",K,[e[31]||(e[31]=o("span",{class:"section-title"},"HTML混淆",-1)),l(b,{modelValue:t.htmlObfuscation.enabled,"onUpdate:modelValue":e[12]||(e[12]=s=>t.htmlObfuscation.enabled=s),onChange:n},null,8,["modelValue"])]),o("div",{class:y(["form-item",{disabled:!t.htmlObfuscation.enabled}])},[e[34]||(e[34]=o("span",{class:"item-label"},"混淆方式:",-1)),l(v,{modelValue:t.htmlObfuscation.mode,"onUpdate:modelValue":e[13]||(e[13]=s=>t.htmlObfuscation.mode=s),disabled:!t.htmlObfuscation.enabled,onChange:n},{default:a(()=>[l(V,{label:"all"},{default:a(()=>e[32]||(e[32]=[d("混淆全部")])),_:1,__:[32]}),l(V,{label:"tag"},{default:a(()=>e[33]||(e[33]=[d("混淆标签")])),_:1,__:[33]})]),_:1},8,["modelValue","disabled"])],2),o("div",A,[e[35]||(e[35]=o("div",{class:"textarea-label"},[o("span",{class:"required"},"*"),o("span",null,"混淆路径(前缀匹配):")],-1)),l(r,{modelValue:t.htmlObfuscation.obfuscatePaths,"onUpdate:modelValue":e[14]||(e[14]=s=>t.htmlObfuscation.obfuscatePaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.htmlObfuscation.enabled,placeholder:"请输入混淆路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:n},null,8,["modelValue","disabled"])]),o("div",F,[e[36]||(e[36]=o("div",{class:"textarea-label"},[o("span",null,"例外路径(前缀匹配):")],-1)),l(r,{modelValue:t.htmlObfuscation.exceptPaths,"onUpdate:modelValue":e[15]||(e[15]=s=>t.htmlObfuscation.exceptPaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.htmlObfuscation.enabled,placeholder:"请输入例外路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:n},null,8,["modelValue","disabled"])])]),o("div",G,[o("div",Q,[e[37]||(e[37]=o("span",{class:"section-title"},"JS混淆",-1)),l(b,{modelValue:t.jsObfuscation.enabled,"onUpdate:modelValue":e[16]||(e[16]=s=>t.jsObfuscation.enabled=s),onChange:n},null,8,["modelValue"])]),o("div",X,[e[38]||(e[38]=o("div",{class:"textarea-label"},[o("span",{class:"required"},"*"),o("span",null,"混淆路径(前缀匹配):")],-1)),l(r,{modelValue:t.jsObfuscation.obfuscatePaths,"onUpdate:modelValue":e[17]||(e[17]=s=>t.jsObfuscation.obfuscatePaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.jsObfuscation.enabled,placeholder:"请输入混淆路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:n},null,8,["modelValue","disabled"])]),o("div",Y,[e[39]||(e[39]=o("div",{class:"textarea-label"},[o("span",null,"例外路径(前缀匹配):")],-1)),l(r,{modelValue:t.jsObfuscation.exceptPaths,"onUpdate:modelValue":e[18]||(e[18]=s=>t.jsObfuscation.exceptPaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.jsObfuscation.enabled,placeholder:"请输入例外路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:n},null,8,["modelValue","disabled"])])])])])}}},ee=x(Z,[["__scopeId","data-v-17f20099"]]);export{ee as default};
