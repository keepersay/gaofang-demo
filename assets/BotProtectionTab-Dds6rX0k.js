import{_ as O,r as C,n as E,o as w,f as m,b as U,d as j,h as o,e as n,K as y,w as i,k as d}from"./index-BVji5qTU.js";const k={class:"bot-protection-tab"},S={class:"tab-content"},D={class:"protection-section"},R={class:"section-header"},T={class:"protection-section"},W={class:"section-header"},q={class:"protection-section"},B={class:"section-header"},N={class:"check-item"},I={class:"check-item"},L={class:"check-item"},M={class:"check-item"},_={class:"check-item"},z={class:"check-item"},H={class:"check-item"},J={class:"protection-section"},K={class:"section-header"},A={class:"form-item"},F={class:"form-item"},G={class:"protection-section"},Q={class:"section-header"},X={class:"form-item"},Y={class:"form-item"},Z={class:"protection-section"},$={class:"section-header"},ee={class:"form-item"},te={class:"form-item"},oe={__name:"BotProtectionTab",props:{protectionId:{type:[Number,String],required:!0},protectionData:{type:Object,required:!0}},emits:["update"],setup(g,{emit:P}){const b=g,h=P,t=C({searchEngineWhitelist:{enabled:!0,list:""},staticResourceSuffix:{enabled:!0,list:""},dynamicProtection:{enabled:!0,dynamicEnvVerify:!0,dynamicTokenCheck:!0,urlParamObfuscate:!0,refererObfuscate:!0,bodyParamObfuscate:!0,disableDevTools:!1,preventDebugging:!1},htmlObfuscation:{enabled:!0,mode:"all",obfuscatePaths:"/",exceptPaths:""},jsObfuscation:{enabled:!0,obfuscatePaths:"/",exceptPaths:""},responseEncryption:{enabled:!0,obfuscatePaths:"/",exceptPaths:""}}),p=()=>{if(b.protectionData&&b.protectionData.securityConfig&&b.protectionData.securityConfig.botProtection){const a=b.protectionData.securityConfig.botProtection;a.searchEngineWhitelist&&Object.assign(t.searchEngineWhitelist,a.searchEngineWhitelist),a.staticResourceSuffix&&Object.assign(t.staticResourceSuffix,a.staticResourceSuffix),a.dynamicProtection&&(Object.assign(t.dynamicProtection,a.dynamicProtection),t.dynamicProtection.dynamicEnvVerify=!0,t.dynamicProtection.dynamicTokenCheck=!0),a.htmlObfuscation&&Object.assign(t.htmlObfuscation,a.htmlObfuscation),a.jsObfuscation&&Object.assign(t.jsObfuscation,a.jsObfuscation),a.responseEncryption&&Object.assign(t.responseEncryption,a.responseEncryption)}},l=()=>{v()},v=()=>{h("update","botProtection",{searchEngineWhitelist:{...t.searchEngineWhitelist},staticResourceSuffix:{...t.staticResourceSuffix},dynamicProtection:{...t.dynamicProtection},htmlObfuscation:{...t.htmlObfuscation},jsObfuscation:{...t.jsObfuscation},responseEncryption:{...t.responseEncryption}})};return E(()=>b.protectionData,()=>{p()},{deep:!0}),w(()=>{p()}),(a,e)=>{const c=m("el-switch"),r=m("el-input"),u=m("el-checkbox"),f=m("el-tooltip"),V=m("el-radio"),x=m("el-radio-group");return j(),U("div",k,[o("div",S,[e[46]||(e[46]=o("div",{class:"tip-box"},[o("i",{class:"el-icon-info"}),o("span",null,"以下防护技术组合使用，可对攻击者进行有效拦截")],-1)),o("div",D,[o("div",R,[e[22]||(e[22]=o("span",{class:"section-title"},"搜索引擎爬虫白名单",-1)),n(c,{modelValue:t.searchEngineWhitelist.enabled,"onUpdate:modelValue":e[0]||(e[0]=s=>t.searchEngineWhitelist.enabled=s)},null,8,["modelValue"])]),n(r,{modelValue:t.searchEngineWhitelist.list,"onUpdate:modelValue":e[1]||(e[1]=s=>t.searchEngineWhitelist.list=s),type:"textarea",rows:4,placeholder:"请输入爬虫名称，多个之间用回车分隔",disabled:!t.searchEngineWhitelist.enabled,onChange:l},null,8,["modelValue","disabled"])]),o("div",T,[o("div",W,[e[23]||(e[23]=o("span",{class:"section-title"},"静态资源后缀加白",-1)),n(c,{modelValue:t.staticResourceSuffix.enabled,"onUpdate:modelValue":e[2]||(e[2]=s=>t.staticResourceSuffix.enabled=s)},null,8,["modelValue"])]),n(r,{modelValue:t.staticResourceSuffix.list,"onUpdate:modelValue":e[3]||(e[3]=s=>t.staticResourceSuffix.list=s),type:"textarea",rows:4,placeholder:"请输入需要加白的静态资源后缀，多个之间用回车分隔",disabled:!t.staticResourceSuffix.enabled,onChange:l},null,8,["modelValue","disabled"])]),o("div",q,[o("div",B,[e[24]||(e[24]=o("span",{class:"section-title"},"动态防护(web)",-1)),n(c,{modelValue:t.dynamicProtection.enabled,"onUpdate:modelValue":e[4]||(e[4]=s=>t.dynamicProtection.enabled=s)},null,8,["modelValue"])]),o("div",{class:y(["check-items",{disabled:!t.dynamicProtection.enabled}])},[o("div",N,[n(u,{modelValue:t.dynamicProtection.dynamicEnvVerify,"onUpdate:modelValue":e[5]||(e[5]=s=>t.dynamicProtection.dynamicEnvVerify=s),disabled:""},{default:i(()=>[...e[25]||(e[25]=[d("动态环境验证",-1)])]),_:1},8,["modelValue"]),n(f,{content:"该选项为必选项",placement:"top"},{default:i(()=>[...e[26]||(e[26]=[o("i",{class:"el-icon-question"},null,-1)])]),_:1})]),o("div",I,[n(u,{modelValue:t.dynamicProtection.dynamicTokenCheck,"onUpdate:modelValue":e[6]||(e[6]=s=>t.dynamicProtection.dynamicTokenCheck=s),disabled:""},{default:i(()=>[...e[27]||(e[27]=[d("动态令牌校验",-1)])]),_:1},8,["modelValue"]),n(f,{content:"该选项为必选项",placement:"top"},{default:i(()=>[...e[28]||(e[28]=[o("i",{class:"el-icon-question"},null,-1)])]),_:1})]),o("div",L,[n(u,{modelValue:t.dynamicProtection.urlParamObfuscate,"onUpdate:modelValue":e[7]||(e[7]=s=>t.dynamicProtection.urlParamObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:l},{default:i(()=>[...e[29]||(e[29]=[d("URL参数混淆",-1)])]),_:1},8,["modelValue","disabled"])]),o("div",M,[n(u,{modelValue:t.dynamicProtection.refererObfuscate,"onUpdate:modelValue":e[8]||(e[8]=s=>t.dynamicProtection.refererObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:l},{default:i(()=>[...e[30]||(e[30]=[d("referer参数混淆",-1)])]),_:1},8,["modelValue","disabled"])]),o("div",_,[n(u,{modelValue:t.dynamicProtection.bodyParamObfuscate,"onUpdate:modelValue":e[9]||(e[9]=s=>t.dynamicProtection.bodyParamObfuscate=s),disabled:!t.dynamicProtection.enabled,onChange:l},{default:i(()=>[...e[31]||(e[31]=[d("请求体参数混淆",-1)])]),_:1},8,["modelValue","disabled"])]),o("div",z,[n(u,{modelValue:t.dynamicProtection.disableDevTools,"onUpdate:modelValue":e[10]||(e[10]=s=>t.dynamicProtection.disableDevTools=s),disabled:!t.dynamicProtection.enabled,onChange:l},{default:i(()=>[...e[32]||(e[32]=[d("禁用开发者工具",-1)])]),_:1},8,["modelValue","disabled"])]),o("div",H,[n(u,{modelValue:t.dynamicProtection.preventDebugging,"onUpdate:modelValue":e[11]||(e[11]=s=>t.dynamicProtection.preventDebugging=s),disabled:!t.dynamicProtection.enabled,onChange:l},{default:i(()=>[...e[33]||(e[33]=[d("页面防调试",-1)])]),_:1},8,["modelValue","disabled"])])],2)]),o("div",J,[o("div",K,[e[34]||(e[34]=o("span",{class:"section-title"},"HTML混淆",-1)),n(c,{modelValue:t.htmlObfuscation.enabled,"onUpdate:modelValue":e[12]||(e[12]=s=>t.htmlObfuscation.enabled=s),onChange:l},null,8,["modelValue"])]),o("div",{class:y(["form-item",{disabled:!t.htmlObfuscation.enabled}])},[e[37]||(e[37]=o("span",{class:"item-label"},"混淆方式:",-1)),n(x,{modelValue:t.htmlObfuscation.mode,"onUpdate:modelValue":e[13]||(e[13]=s=>t.htmlObfuscation.mode=s),disabled:!t.htmlObfuscation.enabled,onChange:l},{default:i(()=>[n(V,{label:"all"},{default:i(()=>[...e[35]||(e[35]=[d("混淆全部",-1)])]),_:1}),n(V,{label:"tag"},{default:i(()=>[...e[36]||(e[36]=[d("混淆标签",-1)])]),_:1})]),_:1},8,["modelValue","disabled"])],2),o("div",A,[e[38]||(e[38]=o("div",{class:"textarea-label"},[o("span",{class:"required"},"*"),o("span",null,"混淆路径(前缀匹配):")],-1)),n(r,{modelValue:t.htmlObfuscation.obfuscatePaths,"onUpdate:modelValue":e[14]||(e[14]=s=>t.htmlObfuscation.obfuscatePaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.htmlObfuscation.enabled,placeholder:"请输入混淆路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])]),o("div",F,[e[39]||(e[39]=o("div",{class:"textarea-label"},[o("span",null,"例外路径(前缀匹配):")],-1)),n(r,{modelValue:t.htmlObfuscation.exceptPaths,"onUpdate:modelValue":e[15]||(e[15]=s=>t.htmlObfuscation.exceptPaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.htmlObfuscation.enabled,placeholder:"请输入例外路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])])]),o("div",G,[o("div",Q,[e[40]||(e[40]=o("span",{class:"section-title"},"JS混淆",-1)),n(c,{modelValue:t.jsObfuscation.enabled,"onUpdate:modelValue":e[16]||(e[16]=s=>t.jsObfuscation.enabled=s),onChange:l},null,8,["modelValue"])]),o("div",X,[e[41]||(e[41]=o("div",{class:"textarea-label"},[o("span",{class:"required"},"*"),o("span",null,"混淆路径(前缀匹配):")],-1)),n(r,{modelValue:t.jsObfuscation.obfuscatePaths,"onUpdate:modelValue":e[17]||(e[17]=s=>t.jsObfuscation.obfuscatePaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.jsObfuscation.enabled,placeholder:"请输入混淆路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])]),o("div",Y,[e[42]||(e[42]=o("div",{class:"textarea-label"},[o("span",null,"例外路径(前缀匹配):")],-1)),n(r,{modelValue:t.jsObfuscation.exceptPaths,"onUpdate:modelValue":e[18]||(e[18]=s=>t.jsObfuscation.exceptPaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.jsObfuscation.enabled,placeholder:"请输入例外路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])])]),o("div",Z,[o("div",$,[e[43]||(e[43]=o("span",{class:"section-title"},"响应体加密",-1)),n(c,{modelValue:t.responseEncryption.enabled,"onUpdate:modelValue":e[19]||(e[19]=s=>t.responseEncryption.enabled=s),onChange:l},null,8,["modelValue"])]),o("div",ee,[e[44]||(e[44]=o("div",{class:"textarea-label"},[o("span",{class:"required"},"*"),o("span",null,"混淆路径(前缀匹配):")],-1)),n(r,{modelValue:t.responseEncryption.obfuscatePaths,"onUpdate:modelValue":e[20]||(e[20]=s=>t.responseEncryption.obfuscatePaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.responseEncryption.enabled,placeholder:"请输入混淆路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])]),o("div",te,[e[45]||(e[45]=o("div",{class:"textarea-label"},[o("span",null,"例外路径(前缀匹配):")],-1)),n(r,{modelValue:t.responseEncryption.exceptPaths,"onUpdate:modelValue":e[21]||(e[21]=s=>t.responseEncryption.exceptPaths=s),type:"textarea",rows:3,maxlength:5120,disabled:!t.responseEncryption.enabled,placeholder:"请输入例外路径，多个之间用英文逗号分割，最多配置20个，单个路径最长255字符","show-word-limit":"",onChange:l},null,8,["modelValue","disabled"])])])])])}}},ne=O(oe,[["__scopeId","data-v-e9710cbb"]]);export{ne as default};
